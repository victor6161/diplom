-- MySQL dump 10.13  Distrib 5.7.12, for Win64 (x86_64)
--
-- Host: localhost    Database: diplom
-- ------------------------------------------------------
-- Server version	5.7.17-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `company`
--

DROP TABLE IF EXISTS `company`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `company` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `company`
--

LOCK TABLES `company` WRITE;
/*!40000 ALTER TABLE `company` DISABLE KEYS */;
/*!40000 ALTER TABLE `company` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `country`
--

DROP TABLE IF EXISTS `country`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `country` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(45) DEFAULT NULL,
  `postcode` varchar(45) DEFAULT NULL,
  `tax` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `country`
--

LOCK TABLES `country` WRITE;
/*!40000 ALTER TABLE `country` DISABLE KEYS */;
INSERT INTO `country` VALUES (1,'Россия',NULL,NULL),(2,'США',NULL,NULL),(3,'Индонезия',NULL,NULL),(4,'Германия',NULL,NULL),(5,'Голландия',NULL,NULL),(6,'Франция',NULL,NULL),(7,'Испания',NULL,NULL);
/*!40000 ALTER TABLE `country` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `marker`
--

DROP TABLE IF EXISTS `marker`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `marker` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `latitude` double DEFAULT NULL,
  `longitude` double DEFAULT NULL,
  `route_id` int(11) DEFAULT NULL,
  `path_num` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `route_id_foreign_key_idx` (`route_id`),
  CONSTRAINT `route_id_foreign_key` FOREIGN KEY (`route_id`) REFERENCES `route` (`id`) ON DELETE CASCADE ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=135 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `marker`
--

LOCK TABLES `marker` WRITE;
/*!40000 ALTER TABLE `marker` DISABLE KEYS */;
INSERT INTO `marker` VALUES (1,36.52978,-6.29465,1,1),(2,37.82709416666667,-3.796116666666666,1,2),(3,39.124408333333335,-1.2975833333333338,1,3),(4,40.4217225,1.2009500000000006,1,4),(5,41.07208540247605,4.364156184895819,1,5),(6,43.016350833333334,6.198016666666666,1,6),(7,44.313665,8.696549999999998,1,7),(8,45.21379338193426,11.936660481770787,1,8),(9,47.07316022390914,12.957532682291685,1,9),(10,48.2056075,16.19215,1,10),(11,49.502921666666666,18.690683333333336,1,11),(12,50.80023583333333,21.18921666666667,1,12),(13,36.52978,-6.29465,2,1),(14,37.09371083333334,-5.321673333333332,2,2),(15,37.65764166666667,-4.348696666666667,2,3),(16,38.2215725,-3.3757199999999994,2,4),(17,38.78550333333334,-2.4027433333333343,2,5),(18,39.34943416666667,-1.429766666666667,2,6),(19,39.913365,-0.45679000000000025,2,7),(20,40.477295833333336,0.5161866666666657,2,8),(21,41.04122666666667,1.489163333333333,2,9),(22,41.605157500000004,2.4621399999999998,2,10),(23,42.169088333333335,3.4351166666666675,2,11),(24,42.73301916666667,4.408093333333334,2,12),(25,36.52978,-6.29465,3,1),(26,37.296573038533474,-1.1845453124999494,3,2),(27,39.90959732848025,2.3490212890625344,3,3),(28,42.91320646343204,3.943500976562518,3,4),(29,44.313665,8.69655,3,5),(30,46.25963625,12.44435,3,6),(31,48.2056075,16.19215,3,7),(32,50.15157875,19.939950000000003,3,8),(33,36.52978,-6.29465,4,1),(34,37.169563600000004,-5.506442799999999,4,2),(35,37.809347200000005,-4.7182356,4,3),(36,38.449130800000006,-3.9300284,4,4),(37,39.0889144,-3.1418211999999994,4,5),(38,39.72869800000001,-2.3536140000000003,4,6),(39,40.3684816,-1.5654068000000003,4,7),(40,41.0082652,-0.777199599999999,4,8),(41,42.9963778843788,-3.614480681250029,4,9),(42,42.2878324,0.7992147999999997,4,10),(43,42.927616,1.5874219999999988,4,11),(44,43.5673996,2.3756291999999983,4,12),(45,44.207183199999996,3.163836399999999,4,13),(46,44.8469668,3.9520435999999983,4,14),(47,45.4867504,4.740250799999998,4,15),(48,46.126534,5.528457999999999,4,16),(49,46.7663176,6.316665200000001,4,17),(50,47.4061012,7.1048724000000005,4,18),(51,48.0458848,7.893079600000002,4,19),(52,49.03261250996413,7.582653987499953,4,20),(53,49.325452,9.469494000000003,4,21),(54,49.65328350062813,12.894419950000042,4,22),(55,50.97311785784203,9.70557636875003,4,23),(56,51.086350994849845,12.603158568749905,4,24),(57,52.18197345773851,11.314949753125006,4,25),(58,43.29695,5.38107,5,1),(59,43.496963636363645,5.797130909090909,5,2),(60,43.696977272727274,6.213191818181818,5,3),(61,43.89699090909092,6.629252727272728,5,4),(62,44.097004545454546,7.045313636363636,5,5),(63,44.29701818181818,7.461374545454547,5,6),(64,44.497031818181824,7.877435454545456,5,7),(65,44.69704545454545,8.293496363636365,5,8),(66,44.89705909090909,8.709557272727274,5,9),(67,45.09707272727273,9.125618181818183,5,10),(68,45.29708636363637,9.541679090909092,5,11),(69,45.4971,9.957740000000001,5,12),(70,45.69711363636364,10.37380090909091,5,13),(71,45.897127272727275,10.78986181818182,5,14),(72,46.09714090909091,11.205922727272728,5,15),(73,46.297154545454546,11.621983636363636,5,16),(74,46.49716818181818,12.038044545454547,5,17),(75,46.69718181818182,12.454105454545454,5,18),(76,46.897195454545454,12.870166363636363,5,19),(77,47.09720909090909,13.28622727272727,5,20),(78,47.297222727272725,13.70228818181818,5,21),(79,47.49723636363637,14.11834909090909,5,22),(80,47.697250000000004,14.534409999999998,5,23),(81,47.89726363636363,14.950470909090908,5,24),(82,48.09727727272727,15.366531818181816,5,25),(83,48.297290909090904,15.782592727272725,5,26),(84,48.49730454545454,16.198653636363634,5,27),(85,48.697318181818176,16.614714545454543,5,28),(86,48.89733181818182,17.030775454545452,5,29),(87,49.09734545454545,17.44683636363636,5,30),(88,49.29735909090909,17.862897272727267,5,31),(89,49.49737272727272,18.278958181818176,5,32),(90,49.69738636363636,18.695019090909085,5,33),(91,49.8974,19.111079999999994,5,34),(92,50.09741363636364,19.527140909090903,5,35),(93,50.29742727272727,19.943201818181812,5,36),(94,50.497440909090905,20.35926272727272,5,37),(95,50.69745454545454,20.77532363636363,5,38),(96,50.897468181818176,21.19138454545454,5,39),(97,51.09748181818181,21.60744545454545,5,40),(98,51.29749545454545,22.023506363636358,5,41),(99,51.49750909090909,22.439567272727263,5,42),(100,51.69752272727272,22.855628181818172,5,43),(101,51.897536363636355,23.27168909090908,5,44),(102,52.09754999999999,23.68774999999999,5,45),(103,36.52978,-6.29465,6,1),(104,37.98383363636364,-4.50327,6,2),(105,39.437887272727274,-2.71189,6,3),(106,40.891940909090906,-0.9205100000000002,6,4),(107,42.345994545454545,0.87087,6,5),(108,43.800048181818184,2.6622500000000007,6,6),(109,45.25410181818182,4.45363,6,7),(110,46.70815545454546,6.245010000000001,6,8),(111,48.16220909090909,8.036390000000003,6,9),(112,49.616262727272726,9.827770000000003,6,10),(113,51.070316363636366,11.619150000000003,6,11),(114,52.52437,13.41053,7,1),(115,52.118447619047615,13.81955238095238,7,2),(116,51.71252523809524,14.228574761904762,7,3),(117,51.306602857142856,14.637597142857143,7,4),(118,50.90068047619047,15.046619523809523,7,5),(119,50.49475809523809,15.455641904761904,7,6),(120,50.088835714285715,15.864664285714287,7,7),(121,49.68291333333333,16.273686666666666,7,8),(122,49.27699095238095,16.682709047619046,7,9),(123,48.871068571428566,17.09173142857143,7,10),(124,48.46514619047619,17.500753809523808,7,11),(125,48.05922380952381,17.90977619047619,7,12),(126,47.653301428571424,18.318798571428573,7,13),(127,47.24737904761905,18.727820952380952,7,14),(128,46.841456666666666,19.13684333333333,7,15),(129,46.43553428571428,19.545865714285714,7,16),(130,46.02961190476191,19.954888095238097,7,17),(131,52.4108376166837,37.50258235119054,7,18),(132,45.21776714285714,20.772932857142862,7,19),(133,44.81184476190476,21.18195523809524,7,20),(134,44.405922380952376,21.59097761904762,7,21);
/*!40000 ALTER TABLE `marker` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `port`
--

DROP TABLE IF EXISTS `port`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `port` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `country_id` int(11) NOT NULL,
  `name` varchar(45) DEFAULT NULL,
  `latitude` double DEFAULT NULL,
  `longitude` double DEFAULT NULL,
  PRIMARY KEY (`id`,`country_id`),
  KEY `fk_port_country1_idx` (`country_id`),
  CONSTRAINT `fk_port_country1` FOREIGN KEY (`country_id`) REFERENCES `country` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `port`
--

LOCK TABLES `port` WRITE;
/*!40000 ALTER TABLE `port` DISABLE KEYS */;
INSERT INTO `port` VALUES (17,7,'Кадис',36.52978,-6.29465),(18,6,'Марсель',43.29695,5.38107),(19,6,'Брест',52.09755,23.68775),(20,3,'тест',6.93194,79.84778),(21,4,'тест2',52.52437,13.41053),(22,4,'тест3',0,0),(23,4,'тест4',44,22);
/*!40000 ALTER TABLE `port` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `route`
--

DROP TABLE IF EXISTS `route`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `route` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `port_id_from` int(11) NOT NULL,
  `port_id_to` int(11) NOT NULL,
  `number_points` int(11) DEFAULT NULL,
  `distance` double DEFAULT NULL,
  `length` double DEFAULT NULL,
  `width` double DEFAULT NULL,
  `draught` double DEFAULT NULL,
  PRIMARY KEY (`id`,`port_id_from`,`port_id_to`),
  KEY `fk_route_port1_idx` (`port_id_from`),
  KEY `fk_route_port2_idx` (`port_id_to`),
  CONSTRAINT `fk_route_port1` FOREIGN KEY (`port_id_from`) REFERENCES `port` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_route_port2` FOREIGN KEY (`port_id_to`) REFERENCES `port` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `route`
--

LOCK TABLES `route` WRITE;
/*!40000 ALTER TABLE `route` DISABLE KEYS */;
INSERT INTO `route` VALUES (4,17,21,25,470,225,32,10000),(5,18,19,44,870,235,25,12000),(6,17,21,11,345,250,27,20000),(7,21,23,21,564,150,12,15000);
/*!40000 ALTER TABLE `route` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `route_service`
--

DROP TABLE IF EXISTS `route_service`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `route_service` (
  `route_id` int(11) DEFAULT NULL,
  `service_id` int(11) DEFAULT NULL,
  `route_index` int(11) DEFAULT NULL,
  KEY `route_id_key_idx` (`route_id`),
  KEY `service_id_key_idx` (`service_id`),
  CONSTRAINT `route_id_key` FOREIGN KEY (`route_id`) REFERENCES `route` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `service_id_key` FOREIGN KEY (`service_id`) REFERENCES `service` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `route_service`
--

LOCK TABLES `route_service` WRITE;
/*!40000 ALTER TABLE `route_service` DISABLE KEYS */;
INSERT INTO `route_service` VALUES (7,17,5),(6,17,4);
/*!40000 ALTER TABLE `route_service` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `service`
--

DROP TABLE IF EXISTS `service`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `service` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(45) DEFAULT NULL,
  `total_time` int(11) DEFAULT NULL,
  `vessel_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `vessel_id_key_idx` (`vessel_id`),
  CONSTRAINT `vessel_id_key` FOREIGN KEY (`vessel_id`) REFERENCES `vessel` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `service`
--

LOCK TABLES `service` WRITE;
/*!40000 ALTER TABLE `service` DISABLE KEYS */;
INSERT INTO `service` VALUES (17,'тест6',NULL,19);
/*!40000 ALTER TABLE `service` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `status`
--

DROP TABLE IF EXISTS `status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `status`
--

LOCK TABLES `status` WRITE;
/*!40000 ALTER TABLE `status` DISABLE KEYS */;
/*!40000 ALTER TABLE `status` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user`
--

DROP TABLE IF EXISTS `user`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `firstname` varchar(45) DEFAULT NULL,
  `lastname` varchar(45) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `login` varchar(45) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL,
  `user_role_id` int(11) NOT NULL,
  PRIMARY KEY (`id`,`user_role_id`),
  KEY `fk_user_user_role1_idx` (`user_role_id`),
  CONSTRAINT `fk_user_user_role1` FOREIGN KEY (`user_role_id`) REFERENCES `user_role` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user`
--

LOCK TABLES `user` WRITE;
/*!40000 ALTER TABLE `user` DISABLE KEYS */;
INSERT INTO `user` VALUES (6,'test','test',NULL,'test','MTIz',1);
/*!40000 ALTER TABLE `user` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `user_role`
--

DROP TABLE IF EXISTS `user_role`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `user_role` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name_role` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `user_role`
--

LOCK TABLES `user_role` WRITE;
/*!40000 ALTER TABLE `user_role` DISABLE KEYS */;
INSERT INTO `user_role` VALUES (1,'employee'),(2,'admin');
/*!40000 ALTER TABLE `user_role` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `vessel`
--

DROP TABLE IF EXISTS `vessel`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `vessel` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(45) DEFAULT NULL,
  `name` varchar(45) DEFAULT NULL,
  `load_capacity` double DEFAULT NULL,
  `average_speed` double DEFAULT NULL,
  `fuel_consumption` double DEFAULT NULL,
  `status_id` int(11) DEFAULT NULL,
  `company_id` int(11) DEFAULT NULL,
  `draught` double DEFAULT NULL,
  `length` double DEFAULT NULL,
  `width` double DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `status_id_key_idx` (`status_id`),
  KEY `company_id_key_idx` (`company_id`),
  CONSTRAINT `company_id_key` FOREIGN KEY (`company_id`) REFERENCES `company` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `status_id_key` FOREIGN KEY (`status_id`) REFERENCES `status` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `vessel`
--

LOCK TABLES `vessel` WRITE;
/*!40000 ALTER TABLE `vessel` DISABLE KEYS */;
INSERT INTO `vessel` VALUES (17,'тест',NULL,11,12,31,NULL,NULL,NULL,NULL,NULL),(18,'тест2',NULL,31,34,234,NULL,NULL,NULL,NULL,NULL),(19,'тест4',NULL,12,123,123,NULL,NULL,NULL,NULL,NULL),(20,'тест5',NULL,123,12,32,NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `vessel` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-06-02 16:51:52
